@model VistasClinicaSanRafael.Models.Cita

@{
    ViewData["Title"] = "Agregar Cita";
}

<div class="create-appointment-container mt-5 d-flex justify-content-center align-items-start">
    <div class="card shadow-lg" style="width: 500px; border-radius: 10px;">
        <div class="card-header text-white text-center" style="background-color: #003366; font-size: 1.5rem; font-family: 'Merriweather', serif;">
            Agregar Nueva Cita
        </div>
        <div class="card-body" style="font-family: 'Arial', sans-serif; color: #003366;">
            @if (ViewData["Pacientes"] == null || ViewData["Empleados"] == null || ViewData["Tratamientos"] == null)
            {
                <div class="alert alert-danger">
                    No se pueden cargar los datos necesarios para el formulario. Por favor, contacte al administrador.
                </div>
            }
            else
            {
                <form asp-action="Create" method="POST">
                    <div class="mb-3">
                        <label for="IdPaciente" class="form-label" style="color: #003366;">Nombre del Paciente</label>
                        <select id="IdPaciente" name="IdPaciente" class="form-select" required>
                            <option value="" disabled selected>Seleccione un paciente</option>
                            @foreach (var paciente in (SelectList)ViewData["Pacientes"])
                            {
                                <option value="@paciente.Value">@paciente.Text</option>
                            }
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="IdEmpleado" class="form-label" style="color: #003366;">Doctor</label>
                        <select id="IdEmpleado" name="IdEmpleado" class="form-select" required>
                            <option value="" disabled selected>Seleccione un doctor</option>
                            @foreach (var empleado in (SelectList)ViewData["Empleados"])
                            {
                                <option value="@empleado.Value">@empleado.Text</option>
                            }
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="IdTratamiento" class="form-label" style="color: #003366;">Tratamiento</label>
                        <select id="IdTratamiento" name="IdTratamiento" class="form-select" required>
                            <option value="" disabled selected>Seleccione un tratamiento</option>
                            @foreach (var tratamiento in (SelectList)ViewData["Tratamientos"])
                            {
                                <option value="@tratamiento.Value">@tratamiento.Text</option>
                            }
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="Fecha" class="form-label" style="color: #003366;">Fecha</label>
                        <input type="date" id="Fecha" name="Fecha" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" required>
                    </div>
                    <div class="mb-3">
                        <label for="Hora" class="form-label" style="color: #003366;">Hora</label>
                        <input type="time" id="Hora" name="Hora" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="Estado" class="form-label" style="color: #003366;">Estado</label>
                        <select id="Estado" name="Estado" class="form-select" required>
                            <option value="Pendiente">Pendiente</option>
                            <option value="Confirmada">Confirmada</option>
                            <option value="Cancelada">Cancelada</option>
                        </select>
                    </div>
                    <button type="submit" class="btn w-100" style="background-color: #003366; color: #FFFFFF; font-family: 'Arial Bold', sans-serif;">Agregar Cita</button>
                </form>
            }
        </div>
        <div class="card-footer text-center">
            <a asp-controller="Citas" asp-action="Index" style="color: #66b2ff;">Cancelar</a>
        </div>
    </div>
</div>

<style>
    .create-appointment-container {
        margin-top: 20px;
        background-color: #F8F9FA;
        display: flex;
        justify-content: center;
        align-items: start;
    }

    .card {
        border: 1px solid #E6E6E6;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .card-header {
        background-color: #003366;
        color: #FFFFFF;
    }

    .btn {
        background-color: #66b2ff;
        border: none;
    }

        .btn:hover {
            background-color: #003366;
            transform: scale(1.05);
        }
</style>
